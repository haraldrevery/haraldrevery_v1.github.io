<!DOCTYPE html>
<html lang="en" class="scroll-smooth dark" x-data="{ darkMode: true }" :class="{ 'dark': darkMode }">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Harald Revery - Music</title> 
  <script src="./dist/tailwind.js"></script>

  <style>

/* Enhanced Ambient Background Blobs */
@keyframes meshMove {
  0% { transform: translate(0, 0) scale(1) rotate(0deg); }
  33% { transform: translate(30%, -20%) scale(1.2) rotate(120deg); }
  66% { transform: translate(-20%, 20%) scale(0.8) rotate(240deg); }
  100% { transform: translate(0, 0) scale(1) rotate(360deg); }
}

.ambient-blob {
  position: absolute;
  width: 120%; /* Slightly smaller for more movement room */
  height: 120%;
  filter: blur(60px); /* Increased blur for smoother blending */
  opacity: 0.15; /* Increased slightly for visibility */
  z-index: 0;
  pointer-events: none;
  mix-blend-mode: screen; /* Better color blending */
  transition: background 1.5s ease-in-out;
}

/* Specific animations for each blob to make them move independently */
.playing .blob-1 {
  animation: meshMove 15s ease-in-out infinite;
}

.playing .blob-2 {
  animation: meshMove 20s ease-in-out infinite reverse;
}

.playing .ambient-blob {
  animation: meshRotate 20s linear infinite;
}

/* Track Title Marquee */
@keyframes marquee {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

.animate-marquee {
  animation: marquee 12s linear infinite;
  display: flex !important;
  white-space: nowrap !important;
  width: max-content !important;
  /* Add these two lines below */
  transition: width 0.5s ease-in-out;
  will-change: transform, width;
}



.will-change-transform {
  will-change: transform;
}
/* Volume Slider Styling */
.volume-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 8px;
  height: 8px;
  background: white;
  border-radius: 50%;
  cursor: pointer;
  border: 1px solid rgba(0,0,0,0.1);
  box-shadow: 0 1px 3px rgba(0,0,0,0.2);
}

.volume-slider::-moz-range-thumb {
  width: 8px;
  height: 8px;
  background: white;
  border-radius: 50%;
  cursor: pointer;
  border: none;
}


    /* The Fading Mask Logic for audio player */
  .mask-fade {
    /* Creates transparent edges at 0% and 100%, and solid in the middle */
    -webkit-mask-image: linear-gradient(
      to right,
      transparent 0%,
      black 10%,
      black 90%,
      transparent 100%
    );
    mask-image: linear-gradient(
      to right,
      transparent 0%,
      black 10%,
      black 90%,
      transparent 100%
    );
  }
    
    /* 2. Added a safeguard: Force background to be dark immediately 
       This prevents any white flashes during script execution */
    .dark body {
      background-color: #000 !important;
      color: #fff !important;
    }

    /* Standard letter fade animation */
    @keyframes letterFade {
      from { opacity: 0; }
      to { opacity: 1; }
    }

/* Audio player texture slide show */
/* Standard cycle for images 2 and 3 */

@keyframes crossfade {
  0% { opacity: 0; }
  5% { opacity: 0.07; }   /* Fade in quickly */
  25% { opacity: 0.07; }  /* Stay visible for exactly 1/4 of the 48s */
  30% { opacity: 0; }     /* Fade out */
  100% { opacity: 0; }
}

.animate-crossfade {
  opacity: 0;
  animation: crossfade 48s infinite linear;
}

  /* Special cycle for Image 1 to prevent the black start */
  @keyframes crossfade-first {
    0%, 40% { opacity: 1; } /* Visible immediately */
    50%, 90% { opacity: 0; } /* Fades out for others */
    100% { opacity: 1; }     /* Comes back at the end */
  }

    

   /* letters fading in */ 
.fade-letter {
    /* remove display: inline-block if letters look gapped */
    opacity: 0;
    animation: letterFade 0.8s ease-out forwards;
}

  /* Prevent layout jump: hide the H2 initially */
  h2[data-animate="true"] {
    opacity: 0;
  }
  h2.active {
    opacity: 1 !important;
  }
    
     /* fading words */
        .word {
          display: inline-block;
          opacity: 0;
          transform: translateY(5px);
        }
        @keyframes fadeInWord {
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }  
        /* This triggers when the IntersectionObserver adds the class */
        .start-animation .word {
          animation: fadeInWord 0.6s ease-out forwards;
        }

    /* 1. FONT DEFINITIONS */
    @font-face {
      font-family: 'HaraldText';
      src: url('../fonts/HaraldReveryTextFont.woff2') format('woff2');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }

    @font-face {
      font-family: 'HaraldMono';
      src: url('../fonts/HaraldReveryMonoFont.woff2') format('woff2');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }

    /* 2. BASE STYLES */
    html { font-size: 1.427rem; }
    body {
      font-family: 'HaraldText', sans-serif;
      font-size: 2.28rem;     /* ≈28px on 16px root */
      line-height: 1.58;
      letter-spacing: 0.018em;
    }
    
    /* 3. ANIMATIONS */
    @keyframes wave-animation {
      0% { transform: rotate(0.0deg); }
      10% { transform: rotate(14.0deg); }
      20% { transform: rotate(-8.0deg); }
      30% { transform: rotate(14.0deg); }
      40% { transform: rotate(-4.0deg); }
      50% { transform: rotate(10.0deg); }
      60% { transform: rotate(0.0deg); }
      100% { transform: rotate(0.0deg); }
    }
    .animate-wave {
      display: inline-block;
      animation: wave-animation 2.5s infinite;
      transform-origin: 70% 70%;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-in {
      animation: fadeIn 0.8s ease-in forwards;
    }

    /* Background ANIMATIONS */
@keyframes gradientMove {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.animate-gradient-slow {
  animation: gradientMove 15s ease infinite;
}

/* Apply a smooth transition to the entire page and all its children */
* {
    transition: background-color 0.96s ease-in-out, color 0.6s ease-in-out, border-color 0.6s ease-in-out;
}

/* Specific smoothing for the background gradient */
body {
    transition: background 0.8s ease-in-out !important;
}  

/* avoid text-justify odd gaps */
.text-justify {
  text-justify: inter-word;
  hyphens: auto;
}
    
.text-container p {
  text-align: justify;
}



/* Horizontal Scrolling Gallery */
@keyframes scrollGallery {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

.scrolling-container {
  position: relative;
  width: 100%;
  height: 15vh; /* 15% of screen height */
  overflow: hidden;
  margin: 4rem 0; /* Add spacing above/below */
}

/* Side Fading Effect */
.scrolling-container::before,
.scrolling-container::after {
  content: "";
  position: absolute;
  top: 0;
  width: 15%;
  height: 100%;
  z-index: 2;
  pointer-events: none;
}

.scrolling-container::before {
  left: 0;
  background: linear-gradient(to right, #000, transparent);
}

.scrolling-container::after {
  right: 0;
  background: linear-gradient(to left, #000, transparent);
}

/* The moving track */
.scrolling-track {
  display: flex;
  width: max-content;
  height: 100%;
  animation: scrollGallery 30s linear infinite; /* Adjust speed here */
}

.scrolling-track img {
  height: 100%;
  width: auto;
  aspect-ratio: 1/1;
  object-fit: cover;
  padding: 0 10px; /* Gap between images */
}

    
  </style>

  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            'signika': ['HaraldMono', 'monospace'],
            'sans': ['HaraldText', 'sans-serif'],
            'body': ['HaraldText', 'sans-serif'],
            'serif': ['HaraldMono', 'monospace'],
            'nothingyoucoulddo': ['Nothing You Could Do', 'cursive'],
          },
        },
      },
      plugins: [],
    }
  </script>

  <script defer src="./dist/alpine.min.js"></script>
</head>
  
<body class="min-h-screen text-black dark:text-white px-5 md:px-20 opacity-0 animate-fade-in transition-all duration-700 ease-in-out animate-gradient-slow 
             bg-gradient-to-br from-slate-100 via-white to-slate-200 
             dark:from-black dark:via-[#0F0F0F] dark:to-[#1F1F1F]
             bg-[length:200%_200%] bg-fixed">
  
  <header class="flex w-full overflow-hidden pt-3 pb-1">
    <nav id="nav" x-data="{ open: false }" role="navigation" class="w-full">
      <div class="container mx-auto flex flex-wrap items-center md:flex-no-wrap">
        <div class="mr-4 md:mr-8">
          <a href="../index.html" class="text-2xl font-signika tracking-[0.15em] transition duration-300 hover:opacity-75">HARALD REVERY</a>
        </div>
        <div class="ml-auto md:hidden flex items-center justify-start">
          <button @click="open = !open"
            class="tap-highlight-transparent text-black dark:text-white w-5 h-5 relative focus:outline-none">
            <span class="sr-only">Open main menu</span>
            <div class="block w-5 absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2">
              <span aria-hidden="true"
                class="block absolute h-0.5 w-5 bg-current transform transition duration-500 ease-in-out"
                :class="{'rotate-45': open,' -translate-y-1.5': !open }"></span>
              <span aria-hidden="true"
                class="block absolute h-0.5 w-5 bg-current transform transition duration-500 ease-in-out"
                :class="{'opacity-0': open } "></span>
              <span aria-hidden="true"
                class="block absolute h-0.5 w-5 bg-current transform transition duration-500 ease-in-out"
                :class="{'-rotate-45': open, ' translate-y-1.5': !open}"></span>
            </div>
          </button>
        </div>
        <div id="menu"
          class="w-full h-0 transition-all ease-out duration-500 md:transition-none md:w-auto md:flex-grow md:flex md:items-center"
          :class="{'h-64': open, 'h-0': !open}">
          <ul id="ulMenu"
            class="flex flex-col duration-300 ease-out md:space-x-5 sm:transition-none mt-5 md:flex-row md:items-center md:ml-auto md:mt-0 md:pt-0 md:border-0">
            <li class="group transition duration-300">
              <a href="../index.html" class="font-signika text-2xl tracking-widest">HOME
                <span
                  class="hidden md:block max-w-0 group-hover:max-w-full transition-all duration-500 h-0.5 bg-black dark:bg-white">
                </span>
              </a>
            </li>
             <li class="group transition duration-300">
              <a href="music.html" class="font-signika text-2xl tracking-widest tap-highlight-transparent">MUSIC
                 <span class="hidden md:block h-0.5 bg-black dark:bg-white"></span>
              </a>
            </li>
            <li class="group transition duration-300">
              <a href="about.html" class="font-signika text-2xl tracking-widest">ABOUT
               <span
                  class="hidden md:block max-w-0 group-hover:max-w-full transition-all duration-500 h-0.5 bg-black dark:bg-white">
              </a>
            </li>
            <li class="group transition duration-300">
              <a href="contact.html" class="font-signika text-2xl tracking-widest">CONTACT
                <span
                  class="hidden md:block max-w-0 group-hover:max-w-full transition-all duration-500 h-0.5 bg-black dark:bg-white">
                </span>
              </a>
            </li>
          </ul>
        </div>
      </div>
      
    </nav>
  </header>

  <div class="container mx-auto">
    
<!-- <h1 class="text-4xl pt-10 pb-8"><b>MUSIC</b></h1> -->   


<!-- Full width section -->  
<div class="container mx-auto py-20 px-5 md:px-0">
  <section class="w-full">
    <h2 data-animate="true" class="font-signika animated-heading text-4xl md:text-4xl mb-6 w-fit">
      Explore the music
    </h2>

    <div class="text-container space-y-4 text-base md:text-lg lg:text-xl leading-relaxed max-w-none text-justify">
      <p>
        Discover Harald Revery's wide range of EDM genres, from melodic house music to intense trap beats with some occasional experimental tracks. Either through the internal web audio player or find the streaming service of your choice.
      </p>

    </div>

    <div class="flex flex-wrap gap-4 mt-8">
      <span data-animate="true" class="animated-heading delay-200 text-xs uppercase tracking-[0.3em] opacity-50">Melodic House</span>
      <span data-animate="true" class="animated-heading delay-200 text-xs uppercase tracking-[0.3em] opacity-50">Bigroom</span>
      <span data-animate="true" class="animated-heading delay-200 text-xs uppercase tracking-[0.3em] opacity-50">Synthwave</span>
      <span data-animate="true" class="animated-heading delay-200 text-xs uppercase tracking-[0.3em] opacity-50">Trap</span>
      <span data-animate="true" class="animated-heading delay-200 text-xs uppercase tracking-[0.3em] opacity-50">Mainstage</span>
    </div>
    
  </section>
</div>

    
<!-- Scrolling images -->  
<div class="scrolling-container">
  <div class="scrolling-track">
    <img src="./dist/assets/cover1.jpg" alt="Artcover 1">
    <img src="./dist/assets/cover2.jpg" alt="Artcover 2">
    <img src="./dist/assets/cover3.jpg" alt="Artcover 3">
    <img src="./dist/assets/cover4.jpg" alt="Artcover 4">
    <img src="./dist/assets/cover5.jpg" alt="Artcover 5">
    <img src="./dist/assets/cover6.jpg" alt="Artcover 6">
    <img src="./dist/assets/cover7.jpg" alt="Artcover 7">
    <img src="./dist/assets/cover8.jpg" alt="Artcover 8">
    <img src="./dist/assets/cover9.jpg" alt="Artcover 9">

    <img src="./dist/assets/cover1.jpg" alt="Artcover 1">
    <img src="./dist/assets/cover2.jpg" alt="Artcover 2">
    <img src="./dist/assets/cover3.jpg" alt="Artcover 3">
    <img src="./dist/assets/cover4.jpg" alt="Artcover 4">
    <img src="./dist/assets/cover5.jpg" alt="Artcover 5">
    <img src="./dist/assets/cover6.jpg" alt="Artcover 6">
    <img src="./dist/assets/cover7.jpg" alt="Artcover 7">
    <img src="./dist/assets/cover8.jpg" alt="Artcover 8">
    <img src="./dist/assets/cover9.jpg" alt="Artcover 9">
  </div>
</div>
    
    
<!-- Audio player to the right, text to the left -->  
<div class="container mx-auto py-12 px-4">
  <!-- Align settings -->  
  <div class="max-w-6xl mx-auto flex flex-col lg:flex-row items-start gap-12" x-data="audioPlayer()">
    
    <div class="w-full lg:w-1/2 text-container start-animation">


<!-- Text starts here -->  
      
     <h2 data-animate="true" class="animated-heading text-4xl md:text-4xl mb-6 w-fit">
  Available streaming services
</h2>

<p class="text-container text-base md:text-lg lg:text-xl leading-relaxed">
  The music is accessible throughout the major streaming services and more!
</p>

<div class="flex flex-wrap items-center gap-10 mt-10 mb-8">
  <a class="transition duration-300 hover:opacity-75" href="https://open.spotify.com/artist/3e27f6Y3wBFJ1YYLNkrjNu" target="_blank" rel="noreferrer">
    <span class="sr-only">Spotify</span>
    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 16 16" aria-hidden="true">
      <path d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm3.669 11.538a.498.498 0 0 1-.686.165c-1.879-1.147-4.243-1.407-7.028-.77a.499.499 0 0 1-.222-.973c3.048-.696 5.662-.397 7.77.892a.5.5 0 0 1 .166.686zm.979-2.178a.624.624 0 0 1-.858.205c-2.15-1.321-5.428-1.704-7.972-.932a.625.625 0 0 1-.362-1.194c2.905-.881 6.517-.454 8.986 1.063a.624.624 0 0 1 .206.858zm.084-2.269C10.154 5.56 5.9 5.419 3.438 6.166a.748.748 0 1 1-.434-1.432c2.825-.857 7.523-.692 10.492 1.07a.747.747 0 1 1-.764 1.288z" />
    </svg>
  </a>

<a class="transition duration-300 hover:opacity-75" href="https://music.apple.com/se/artist/harald-revery/1275991562" target="_blank" rel="noreferrer">
  <span class="sr-only">Apple Music</span>
  <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 512 512">
    <path d="M199 359V199q0-9 10-11l138-28q11-2 12 10v122q0 15-45 20c-57 9-48 105 30 79 30-11 35-40 35-69V88s0-20-17-15l-170 35s-13 2-13 18v203q0 15-45 20c-57 9-48 105 30 79 30-11 35-40 35-69"/>
  </svg>
</a>

  <a class="transition duration-300 hover:opacity-75" href="https://soundcloud.com/haraldrevery" target="_blank" rel="noreferrer">
    <span class="sr-only">SoundCloud</span>
    <svg class="w-6 h-6" fill="currentColor" viewBox="-275 345 270 115" aria-hidden="true">
      <g>
        <path d="M-238.4,398.1c-0.8,0-1.4,0.6-1.5,1.5l-2.3,28l2.3,27.1c0.1,0.8,0.7,1.5,1.5,1.5c0.8,0,1.4-0.6,1.5-1.5l2.6-27.1l-2.6-28 C-237,398.7-237.7,398.1-238.4,398.1z"/>
        <path d="M-228.2,399.9c-0.9,0-1.7,0.7-1.7,1.7l-2.1,26l2.1,27.3c0.1,1,0.8,1.7,1.7,1.7c0.9,0,1.6-0.7,1.7-1.7l2.4-27.3l-2.4-26 C-226.6,400.6-227.3,399.9-228.2,399.9z"/>
        <path d="M-258.6,403.5c-0.5,0-1,0.4-1.1,1l-2.5,23l2.5,22.5c0.1,0.6,0.5,1,1.1,1c0.5,0,1-0.4,1.1-1l2.9-22.5l-2.9-23 C-257.7,404-258.1,403.5-258.6,403.5z"/>
        <path d="M-268.1,412.3c-0.5,0-1,0.4-1,1l-1.9,14.3l1.9,14c0.1,0.6,0.5,1,1,1s0.9-0.4,1-1l2.2-14l-2.2-14.2 C-267.2,412.8-267.6,412.3-268.1,412.3z"/>
        <path d="M-207.5,373.5c-1.2,0-2.1,0.9-2.2,2.1l-1.9,52l1.9,27.2c0.1,1.2,1,2.1,2.2,2.1s2.1-0.9,2.2-2.1l2.1-27.2l-2.1-52 C-205.4,374.4-206.4,373.5-207.5,373.5z"/>
        <path d="M-248.6,399c-0.7,0-1.2,0.5-1.3,1.3l-2.4,27.3l2.4,26.3c0.1,0.7,0.6,1.3,1.3,1.3c0.7,0,1.2-0.5,1.3-1.2l2.7-26.3l-2.7-27.3 C-247.4,399.6-247.9,399-248.6,399z"/>
        <path d="M-217.9,383.4c-1,0-1.9,0.8-1.9,1.9l-2,42.3l2,27.3c0.1,1.1,0.9,1.9,1.9,1.9s1.9-0.8,1.9-1.9l2.3-27.3l-2.3-42.3 C-216,384.2-216.9,383.4-217.9,383.4z"/>
        <path d="M-154.4,359.3c-1.8,0-3.2,1.4-3.2,3.2l-1.2,65l1.2,26.1c0,1.8,1.5,3.2,3.2,3.2c1.8,0,3.2-1.5,3.2-3.2l1.4-26.1l-1.4-65 C-151.1,360.8-152.6,359.3-154.4,359.3z"/>
        <path d="M-197.1,368.9c-1.3,0-2.3,1-2.4,2.4l-1.8,56.3l1.8,26.9c0,1.3,1.1,2.3,2.4,2.3s2.3-1,2.4-2.4l2-26.9l-2-56.3 C-194.7,370-195.8,368.9-197.1,368.9z"/>
        <path d="M-46.5,394c-4.3,0-8.4,0.9-12.2,2.4C-61.2,368-85,345.8-114,345.8c-7.1,0-14,1.4-20.1,3.8c-2.4,0.9-3,1.9-3,3.7v99.9 c0,1.9,1.5,3.5,3.4,3.7c0.1,0,86.7,0,87.3,0c17.4,0,31.5-14.1,31.5-31.5C-15,408.1-29.1,394-46.5,394z"/>
        <path d="M-143.6,353.2c-1.9,0-3.4,1.6-3.5,3.5l-1.4,70.9l1.4,25.7c0,1.9,1.6,3.4,3.5,3.4c1.9,0,3.4-1.6,3.5-3.5l1.5-25.8l-1.5-70.9 C-140.2,354.8-141.7,353.2-143.6,353.2z"/>
        <path d="M-186.5,366.8c-1.4,0-2.5,1.1-2.6,2.6l-1.6,58.2l1.6,26.7c0,1.4,1.2,2.6,2.6,2.6s2.5-1.1,2.6-2.6l1.8-26.7l-1.8-58.2 C-184,367.9-185.1,366.8-186.5,366.8z"/>
        <path d="M-175.9,368.1c-1.5,0-2.8,1.2-2.8,2.8l-1.5,56.7l1.5,26.5c0,1.6,1.3,2.8,2.8,2.8s2.8-1.2,2.8-2.8l1.7-26.5l-1.7-56.7 C-173.1,369.3-174.3,368.1-175.9,368.1z"/>
        <path d="M-165.2,369.9c-1.7,0-3,1.3-3,3l-1.4,54.7l1.4,26.3c0,1.7,1.4,3,3,3c1.7,0,3-1.3,3-3l1.5-26.3l-1.5-54.7 C-162.2,371.3-163.5,369.9-165.2,369.9z"/>
      </g>
    </svg>
  </a>

  <a class="transition duration-300 hover:opacity-75" href="https://tidal.com/artist/9065421" target="_blank" rel="noreferrer">
  <span class="sr-only">Tidal</span>
  <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 32 22" aria-hidden="true">
    <path d="M16.016 5.323l-5.339 5.339-5.339-5.339-5.339 5.339 5.339 5.339 5.339-5.339 5.339 5.339-5.339 5.339 5.339 5.339 5.339-5.339-5.339-5.339 5.339-5.339zM21.391 10.661l5.302-5.307 5.307 5.307-5.307 5.307z"/>
  </svg>
</a>

  <a class="transition duration-300 hover:opacity-75">
  <span data-animate="true" class="animated-heading delay-200 text-xs uppercase tracking-[0.3em] opacity-50">+ many more</span>
</a>
  
</div>




      
    </div>

    <div class="w-full lg:w-1/2">

      
      
<!--  
      <h2 data-animate="true" class="
      animated-heading text-4xl md:text-4xl mb-6 
      w-fit 
       ">
      Audio player
      </h2> --> 


      
      <!-- Audio player --> 
      <div 
  class="group relative overflow-hidden bg-white/40 dark:bg-neutral-900/40 backdrop-blur-xl border border-neutral-200 dark:border-neutral-800 rounded-2xl p-6 transition-all duration-700 hover:shadow-2xl"
  :class="{ 'playing': isPlaying }"
>
  <!-- Image texture --> 
             <div class="absolute inset-0 bg-cover bg-center animate-crossfade" 
                 style="background-image: url('./dist/assets/audioplayer_texture1.jpg'); animation-delay: -2s;"></div>
            
            <div class="absolute inset-0 bg-cover bg-center animate-crossfade" 
                 style="background-image: url('./dist/assets/audioplayer_texture0.jpg'); animation-delay: 10s;"></div>
            
            <div class="absolute inset-0 bg-cover bg-center animate-crossfade" 
                 style="background-image: url('./dist/assets/audioplayer_texture2.jpg'); animation-delay: 22s;"></div>
            
            <div class="absolute inset-0 bg-cover bg-center animate-crossfade" 
                 style="background-image: url('./dist/assets/audioplayer_texture3.jpg'); animation-delay: 34s;"></div>
        
  <div class="ambient-blob blob-1 absolute -top-1/2 -left-1/2 rounded-full" 
       :style="`background: radial-gradient(circle, ${tracks[currentIndex].color1} 0%, transparent 70%)`"></div >
  
  <div class="ambient-blob blob-2 absolute -bottom-1/2 -right-1/2 rounded-full" 
       :style="`background: radial-gradient(circle, ${tracks[currentIndex].color2} 0%, transparent 70%)`"></div >

<div class="relative z-10 flex flex-col gap-1">
  
  <!-- progress bar part rise / lower -->  
  <div class="flex items-center gap-4 w-full -mt-1 mb-2">
    <span class="font-signika text-sm font-medium opacity-70 text-neutral-800 dark:text-white w-10 text-right" x-text="formatTime(currentTime)">0:00</span>
    <!-- number text -->  
    <div class="relative flex-grow h-1 bg-black/10 dark:bg-white/10 rounded-full cursor-pointer group/bar mb-[6px]" 
         @click="seek($event)"
         @mousedown="isDragging = true" 
         @mousemove="isDragging && seek($event)" 
         @mouseup="isDragging = false">
      <div class="absolute top-0 left-0 h-full rounded-full transition-all duration-100" 
            :style="`width: ${(currentTime/duration * 100)}%; background: linear-gradient(to right, ${tracks[currentIndex].color1}, ${tracks[currentIndex].color2})`">
        <div class="absolute right-0 top-1/2 -translate-y-1/2 w-4 h-4 bg-white rounded-full shadow-md scale-0 group-hover/bar:scale-100 transition-transform border-2" :style="`border-color: ${tracks[currentIndex].color2}`"></div>
      </div>
    </div>
    <span class="font-signika text-sm font-medium opacity-70 text-neutral-800 dark:text-white w-10" x-text="formatTime(duration)">0:00</span>
  </div>

<div class="w-full relative border-y border-black/5 dark:border-white/5 py-1 overflow-hidden">
  <div class="mask-fade">
    <div class="flex animate-marquee items-center">
      
      <div class="flex items-center shrink-0">
        <span class="text-lg opacity-60 text-neutral-800 dark:text-white transition-opacity duration-500" x-text="tracks[currentIndex].artist"></span>
        <span class="mx-3 opacity-40 text-neutral-800 dark:text-white"> - </span>
        <span class="text-lg text-neutral-800 dark:text-white transition-opacity duration-500" x-text="tracks[currentIndex].title"></span>
        <div class="w-[20vw] shrink-0"></div> 
      </div>
      
      <div class="flex items-center shrink-0" aria-hidden="true">
        <span class="text-lg opacity-60 text-neutral-800 dark:text-white" x-text="tracks[currentIndex].artist"></span>
        <span class="mx-3 opacity-40 text-neutral-800 dark:text-white"> - </span>
        <span class="text-lg text-neutral-800 dark:text-white" x-text="tracks[currentIndex].title"></span>
        <div class="w-[20vw] shrink-0"></div>
      </div>
      
    </div>
  </div>
</div>
 <!-- Button part rise / lower -->  
  <div class="flex flex-wrap items-center justify-center gap-8 flex-shrink-0 pt-4">
    
    <div class="flex items-center gap-2">
      <button @click="previous()" class="p-2 opacity-50 hover:opacity-100 transition hover:scale-110 active:scale-95 text-neutral-800 dark:text-white">
        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/></svg>
      </button>

      <button @click="togglePlay()" 
        class="flex-shrink-0 w-8 h-8 flex items-center justify-center text-neutral-800 dark:text-white rounded-full bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20 border border-black/5 dark:border-white/10 transition-all active:scale-95 shadow-sm"
      >
        <template x-if="!isPlaying"><svg class="w-4 h-4 ml-0.1" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg></template>
        <template x-if="isPlaying"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg></template>
      </button>

      <button @click="next()" class="p-2 opacity-50 hover:opacity-100 transition hover:scale-110 active:scale-95 text-neutral-800 dark:text-white">
        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/></svg>
      </button>
    </div>

    <!-- Mute button part  -->  
    <div class="flex items-center gap-3">
      <button @click="toggleMute()" class="focus:outline-none">
        <svg x-show="volume > 0 && !isMuted" class="w-4 h-4 opacity-60 text-neutral-800 dark:text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02z"/></svg>
        <svg x-show="volume == 0 || isMuted" class="w-4 h-4 opacity-60 text-neutral-800 dark:text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/></svg>
      </button>
      
      <input type="range" min="0" max="1" step="0.01" 
             x-model="volume" 
             @input="audio.volume = volume; isMuted = (volume == 0)" 
             class="volume-slider w-24 md:w-32 h-1 bg-black/10 dark:bg-white/10 rounded-lg appearance-none cursor-pointer" 
             :style="`accent-color: ${tracks[currentIndex].color2}`">
    </div>
  </div>

</div>
      </div>
    </div>
  </div>
</div>




    



    
  <!-- center the dark mode button -->  
<section id="hero-trigger" class="hero py-12 flex justify-center items-center cursor-pointer">
  <div class="text-container">

    <button @click="darkMode = !darkMode" 
            class="text-sm font-medium uppercase tracking-widest focus:outline-none hover:text-purple-400 dark:text-white dark:hover:text-orange-400 transition-colors duration-300">
      
      <div class="relative h-8 flex items-center justify-center min-w-[200px]">
        
        <span x-show="!darkMode" 
              class="absolute inset-0 flex items-center justify-center"
              x-transition:enter="transition opacity duration-500"
              x-transition:enter-start="opacity-0"
              x-transition:enter-end="opacity-100"
              x-transition:leave="transition opacity duration-300"
              x-transition:leave-start="opacity-100"
              x-transition:leave-end="opacity-0">
          Let the moon arrive
        </span>
        <span x-show="darkMode" 
              style="display: none;"
              class="absolute inset-0 flex items-center justify-center"
              x-transition:enter="transition opacity duration-500"
              x-transition:enter-start="opacity-0"
              x-transition:enter-end="opacity-100"
              x-transition:leave="transition opacity duration-300"
              x-transition:leave-start="opacity-100"
              x-transition:leave-end="opacity-0">
          Let there be light
        </span>
        
      </div>
    </button>

  </div>
</section>

 <!-- footer--> 
  <footer>
        
    <div class="max-w-screen-xl py-16 mx-auto">
      <div class="grid grid-cols-1 gap-8 text-center mx-auto">
        <div>
          
            <p class="font-signika leading-none">
              <b><small class="text-base uppercase tracking-widest opacity-100">Revery Division</small></b>
            </p>
            
            <p><span class="animate-wave">½</span></p>
            
          <p class="mt-4 text-sm text-gray-600 dark:text-gray-300">
            Gothenburg, Sweden <br />
          </p>
            
          <div class="flex mx-auto">
            <div class="mx-auto space-x-6 flex mt-8 text-gray-600 dark:text-gray-300">        
                <a class="transition duration-300 hover:opacity-75" href="https://www.facebook.com/HaraldRevery" target="_blank"
                rel="noreferrer">
                <span class="sr-only"> Facebook </span>
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 16 16" aria-hidden="true">
                  <path
                    d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z" />
                </svg>
              </a>                
              <a class="transition duration-300 hover:opacity-75" href="https://www.instagram.com/HaraldRevery" target="_blank"
                rel="noreferrer">
                <span class="sr-only"> Instagram </span>
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 16 16" aria-hidden="true">
                  <path
                    d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z" />
                </svg>
              </a>                
              <a class="transition duration-300 hover:opacity-75" href="https://x.com/HaraldRevery" target="_blank"
                rel="noreferrer">
                <span class="sr-only"> Twitter </span>
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 16 16" aria-hidden="true">
                  <path
                    d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z" />
                </svg>
              </a>
                
                <a class="transition duration-300 hover:opacity-75" href="https://open.spotify.com/artist/3e27f6Y3wBFJ1YYLNkrjNu" target="_blank"
                  rel="noreferrer">
                  <span class="sr-only">Spotify</span>
                  <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 16 16" aria-hidden="true">
                    <path
                      d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm3.669 11.538a.498.498 0 0 1-.686.165c-1.879-1.147-4.243-1.407-7.028-.77a.499.499 0 0 1-.222-.973c3.048-.696 5.662-.397 7.77.892a.5.5 0 0 1 .166.686zm.979-2.178a.624.624 0 0 1-.858.205c-2.15-1.321-5.428-1.704-7.972-.932a.625.625 0 0 1-.362-1.194c2.905-.881 6.517-.454 8.986 1.063a.624.624 0 0 1 .206.858zm.084-2.269C10.154 5.56 5.9 5.419 3.438 6.166a.748.748 0 1 1-.434-1.432c2.825-.857 7.523-.692 10.492 1.07a.747.747 0 1 1-.764 1.288z" />
                  </svg>
                </a>

            <a class="transition duration-300 hover:opacity-75" href="https://music.apple.com/se/artist/harald-revery/1275991562" target="_blank" rel="noreferrer">
              <span class="sr-only">Apple Music</span>
              <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M19.467 1.482a2.38 2.38 0 0 0-1.897-.89c-.198 0-.411.024-.627.078l-7.464 1.831a2.4 2.4 0 0 0-1.84 2.33v11.722a3.86 3.86 0 0 0-1.192-.201c-1.92 0-3.477 1.34-3.477 2.991s1.557 2.991 3.477 2.991c1.88 0 3.409-1.285 3.473-2.883l.004-10.744 8.016-1.936v6.983c-.443-.131-.914-.202-1.404-.202-2.333 0-4.225 1.626-4.225 3.633 0 2.006 1.892 3.632 4.225 3.632 2.333 0 4.226-1.626 4.226-3.632V3.535a2.38 2.38 0 0 0-1.296-2.053z"/></svg>
                </a>
                
              <a class="transition duration-300 hover:opacity-75" href="https://www.behance.net/haraldrevery" target="_blank"
                rel="noreferrer">
                <span class="sr-only">Behance</span>
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 16 16" aria-hidden="true">
                  <path
                    d="M4.654 3c.461 0 .887.035 1.278.14.39.07.711.216.996.391.286.176.497.426.641.747.14.32.216.711.216 1.137 0 .496-.106.922-.356 1.242-.215.32-.566.606-.997.817.606.176 1.067.496 1.348.922.281.426.461.957.461 1.563 0 .496-.105.922-.285 1.278a2.317 2.317 0 0 1-.782.887c-.32.215-.711.39-1.137.496a5.329 5.329 0 0 1-1.278.176L0 12.803V3h4.654zm-.285 3.978c.39 0 .71-.105.957-.285.246-.18.355-.497.355-.887 0-.216-.035-.426-.105-.567a.981.981 0 0 0-.32-.355 1.84 1.84 0 0 0-.461-.176c-.176-.035-.356-.035-.567-.035H2.17v2.31c0-.005 2.2-.005 2.2-.005zm.105 4.193c.215 0 .426-.035.606-.07.176-.035.356-.106.496-.216s.25-.215.356-.39c.07-.176.14-.391.14-.641 0-.496-.14-.852-.426-1.102-.285-.215-.676-.32-1.137-.32H2.17v2.734h2.305v.005zm6.858-.035c.286.285.711.426 1.278.426.39 0 .746-.106 1.032-.286.285-.215.46-.426.53-.64h1.74c-.286.851-.712 1.457-1.278 1.848-.566.355-1.243.566-2.06.566a4.135 4.135 0 0 1-1.527-.285 2.827 2.827 0 0 1-1.137-.782 2.851 2.851 0 0 1-.712-1.172c-.175-.461-.25-.957-.25-1.528 0-.531.07-1.032.25-1.493.18-.46.426-.852.747-1.207.32-.32.711-.606 1.137-.782a4.018 4.018 0 0 1 1.493-.285c.606 0 1.137.105 1.598.355.46.25.817.532 1.102.958.285.39.496.851.641 1.348.07.496.105.996.07 1.563h-5.15c0 .58.21 1.11.496 1.396zm2.24-3.732c-.25-.25-.642-.391-1.103-.391-.32 0-.566.07-.781.176-.215.105-.356.25-.496.39a.957.957 0 0 0-.25.497c-.036.175-.07.32-.07.46h3.196c-.07-.526-.25-.882-.497-1.132zm-3.127-3.728h3.978v.957h-3.978v-.957z" />
                </svg>
              </a>
                
            </div>
          </div>
        </div>
      </div>
      <p class="mt-8 text-xs text-gray-600 dark:text-gray-300 text-center">
        ©  <span id="year"></span> Harald Revery. All Rights Reserved (fonts, images and brand logo) <br />
        <small>Site Template by <a href="https://github.com/JoaoFranco03" target="_blank">Joao Franco</a></small>
      </p>
    </div>
  </footer>

  <script src="./dist/fade_in.js"></script>
  <script src="./dist/menu.js"></script>
  <script>
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>
    
<!-- fading words script -->
<script>
document.addEventListener('DOMContentLoaded', () => {
  const containers = document.querySelectorAll('.text-container');

  containers.forEach(container => {
    const paragraphs = container.querySelectorAll('p');
    
    paragraphs.forEach(p => {
      // Use textContent instead of innerText to ensure we get the text 
      // even if the element is currently invisible/opacity 0
      const text = p.textContent.trim();
      const words = text.split(/\s+/);
      
      p.innerHTML = words.map((word) => {
        // Random delay between 0.1s and 1.0s
        const randomDelay = (Math.random() * 0.9 + 0.1).toFixed(2);
        return `<span class="word" style="animation-delay: ${randomDelay}s">${word}</span>`;
      }).join(' ');
    });

    // Observer to trigger when scrolled into view
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          // Add the class to the container to start the child animations
          entry.target.classList.add('start-animation');
          observer.unobserve(entry.target);
        }
      });
    }, { 
      // Trigger when 10% of the block is visible
      threshold: 0.1 
    });

    observer.observe(container);
  });
});
</script>

<!-- fading letters script -->
 <script>
document.addEventListener('DOMContentLoaded', () => {
  const headings = document.querySelectorAll('.animated-heading');
  
  const headingObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        animateWords(entry.target);
        headingObserver.unobserve(entry.target);
      }
    });
  }, { threshold: 0.1 });

  headings.forEach(h => headingObserver.observe(h));

  function animateWords(el) {
    const text = el.innerText;
    el.innerHTML = ''; 
    el.style.opacity = '1';
    el.classList.add('active'); 

    // Split by space to get individual words
    const words = text.split(' ');

    words.forEach((word, wordIndex) => {
      // Create a wrapper for the word to keep it together
      const wordSpan = document.createElement('span');
      wordSpan.style.display = 'inline-block';
      wordSpan.style.whiteSpace = 'nowrap'; // This prevents the word itself from breaking

      // Put letters inside the word wrapper
      [...word].forEach((char, charIndex) => {
        const letterSpan = document.createElement('span');
        letterSpan.textContent = char;
        letterSpan.className = 'fade-letter';
        // Calculate delay based on total progress (word index + letter position)
        letterSpan.style.animationDelay = `${(wordIndex * 5 + charIndex) * 0.05}s`;
        wordSpan.appendChild(letterSpan);
      });

      el.appendChild(wordSpan);

      // Add a space after the word (unless it's the last one)
      if (wordIndex < words.length - 1) {
        el.appendChild(document.createTextNode(' '));
      }
    });
  }
});
</script>
    
<script>
function audioPlayer() {
  return {
    volume: 0.7,
    previousVolume: 0.7,
    isMuted: false,
    isPlaying: false,
    isDragging: false,
    currentTime: 0,
    duration: 0,
    volume: 0.7,
    currentIndex: 0,
    audio: new Audio(),
    // color1 = start color, color2 = current time color
    tracks: [
      {
        title: "Phrases",
        artist: "Harald Revery",
        url: "./audio/Harald_Revery_-_Phrases.mp3",
        color1: "#f97316",
        color2: "#e11d48",
        btnColor: "bg-gradient-to-br from-orange-500 to-rose-600"
      },
      {
        title: "Forest Rain",
        artist: "Harald Revery",
        url: "./audio/Harald_Revery_-_Forest_Rain.mp3",
        color1: "#8f9c4b",
        color2: "#f9f9f9",
        btnColor: "bg-gradient-to-br from-white via-green-100 to-green-500"
      },
      {
        title: "Looking for Snow",
        artist: "Harald Revery",
        url: "./audio/Harald_Revery_-_Looking_For_Snow.mp3",
        color1: "#3f535e",
        color2: "#f9f9f9",
        btnColor: "bg-gradient-to-br from-white to-sky-400"
      },
      {
        title: "Uninhabited Island",
        artist: "Harald Revery",
        url: "./audio/Harald_Revery_-_Uninhabited_Island.mp3",
        color1: "#090c10",
        color2: "#2d965c",
        btnColor: "bg-gradient-to-br from-[#090c10] to-[#2d965c]"
      },
      {
        title: "Isolated",
        artist: "Harald Revery",
        url: "./audio/Harald_Revery_Isolated.mp3",
        color1: "#f9f9f9",
        color2: "#3f535e",
        btnColor: "bg-gradient-to-br from-white to-sky-400"
      },
       {
        title: "Mystery Card",
        artist: "Harald Revery",
        url: "./audio/Harald_Revery_MysteryCard.mp3",
        color1: "#a8aebd",
        color2: "#e5e9ec",
        btnColor: "bg-gradient-to-br from-white to-sky-400"
      },
       {
        title: "The North",
        artist: "Harald Revery & Light Titum",
        url: "./audio/Harald_Revery_and_Light_Titum_-_The_North.mp3",
        color1: "#f9f9f9",
        color2: "#3f535e",
        btnColor: "bg-gradient-to-br from-white to-sky-400"
      },
    ],
    toggleMute() {
      if (this.isMuted) {
        this.volume = this.previousVolume || 0.7;
        this.audio.volume = this.volume;
        this.isMuted = false;
      } else {
        this.previousVolume = this.volume;
        this.volume = 0;
        this.audio.volume = 0;
        this.isMuted = true;
      }
    },
    init() {
      this.loadTrack();
      this.audio.volume = this.volume;
      this.audio.ontimeupdate = () => { if(!this.isDragging) this.currentTime = this.audio.currentTime };
      this.audio.onloadedmetadata = () => { this.duration = this.audio.duration };
      this.audio.onended = () => { this.next() };
    },
    loadTrack() {
      this.audio.src = this.tracks[this.currentIndex].url;
      this.audio.load();
    },
    togglePlay() {
      if (this.isPlaying) {
        this.audio.pause();
      } else {
        this.audio.play();
      }
      this.isPlaying = !this.isPlaying;
    },
    next() {
      this.currentIndex = (this.currentIndex + 1) % this.tracks.length;
      this.loadTrack();
      if (this.isPlaying) this.audio.play();
    },
    previous() {
      this.currentIndex = (this.currentIndex - 1 + this.tracks.length) % this.tracks.length;
      this.loadTrack();
      if (this.isPlaying) this.audio.play();
    },
    formatTime(seconds) {
      if (isNaN(seconds)) return "0:00";
      let min = Math.floor(seconds / 60);
      let sec = Math.floor(seconds % 60);
      return `${min}:${sec < 10 ? '0' : ''}${sec}`;
    },
    seek(e) {
      const rect = e.currentTarget.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const percent = Math.min(Math.max(x / rect.width, 0), 1);
      this.currentTime = percent * this.duration;
      this.audio.currentTime = this.currentTime;
    }
  }
}
</script>

<!-- Load the other pages in the background so it doesn't blink as much -->
    <script>
  window.addEventListener('load', () => {
  setTimeout(() => {
    const urls = ["index.html", "about.html", "contact.html"];

    // 1. For Chrome/Edge (Speculation Rules)
    const specScript = document.createElement('script');
    specScript.type = 'speculationrules';
    specScript.textContent = JSON.stringify({
      "prerender": [{ "source": "list", "urls": urls }]
    });
    document.head.appendChild(specScript);

    // 2. For Firefox (Traditional Prefetch)
    urls.forEach(url => {
      const link = document.createElement('link');
      link.rel = 'prefetch';
      link.href = url;
      document.head.appendChild(link);
    });
  }, 3000);
});
</script>
    
</body>
</html>
