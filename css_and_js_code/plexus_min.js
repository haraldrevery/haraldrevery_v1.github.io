let targetRotateX=0,targetRotateY=0,currentRotateX=0,currentRotateY=0;const logoSvg=document.getElementById("main-logo-svg");function smoothRotate(){if(logoSvg){currentRotateX+=.29*(targetRotateX-currentRotateX),currentRotateY+=.29*(targetRotateY-currentRotateY),logoSvg.style.transform=`translateX(-9.81%) rotateX(${currentRotateX}deg) rotateY(${currentRotateY}deg) translateZ(50px)`;const t=document.documentElement.classList.contains("dark")?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.3)";logoSvg.style.filter=`drop-shadow(${.5*currentRotateY}px ${.5*currentRotateX}px 20px ${t})`}requestAnimationFrame(smoothRotate)}let plexusRequestId;document.addEventListener("mousemove",(t=>{targetRotateY=40*(t.clientX/window.innerWidth-.5),targetRotateX=-40*(t.clientY/window.innerHeight-.5)})),document.addEventListener("mouseout",(t=>{t.relatedTarget||t.toElement||(targetRotateY=0,targetRotateX=0)})),smoothRotate();let mouseX=0,mouseY=0,targetX=0,targetY=0;document.addEventListener("mousemove",(t=>{mouseX=(t.clientX-window.innerWidth/2)/(window.innerWidth/2),mouseY=(t.clientY-window.innerHeight/2)/(window.innerHeight/2)})),window.restartPlexus=function(){plexusRequestId&&cancelAnimationFrame(plexusRequestId);const t=document.getElementById("plexus-canvas"),e=document.getElementById("main-logo-svg");if(!t||!e)return;const n=t.getContext("2d"),i=1e3,o=1100,a=document.documentElement.classList.contains("dark")?"255, 255, 255":"26, 26, 26",s=window.innerWidth<768,r=s?0:421,c=s?0:150,l=c*c,h=new Float32Array(r),d=new Float32Array(r),m=new Float32Array(r),u=new Float32Array(r);let g=0;const w=Date.now();!function t(){n.clearRect(0,0,i,o);const e=Math.min((Date.now()-w)/3e3,1),s=Math.floor(e*r);for(;g<s;)h[f=g]=Math.random()*i,d[f]=Math.random()*o,m[f]=.8*(Math.random()-.5),u[f]=.8*(Math.random()-.5),g++;var f;n.fillStyle=`rgba(${a}, 0.8)`;for(let t=0;t<g;t++)h[t]+=m[t],d[t]+=u[t],(h[t]<0||h[t]>i)&&(m[t]*=-1),(d[t]<0||d[t]>o)&&(u[t]*=-1),n.fillRect(h[t]-1,d[t]-1,2,2);n.lineWidth=.8;for(let t=0;t<g;t++){const e=h[t],i=d[t];for(let o=t+1;o<g;o++){const t=e-h[o],s=i-d[o],r=t*t+s*s;if(r<l){const t=.8*(1-Math.sqrt(r)/c);n.beginPath(),n.strokeStyle=`rgba(${a}, ${t.toFixed(2)})`,n.moveTo(e,i),n.lineTo(h[o],d[o]),n.stroke()}}}plexusRequestId=requestAnimationFrame(t)}()},document.addEventListener("DOMContentLoaded",(()=>{window.restartPlexus()})),window.restartLogoAnimations=function(){const t=document.querySelector("#logo-shape-definition.animate-logo"),e=document.querySelectorAll(".wave-echo");if(!t)return;t.querySelectorAll("path").forEach((t=>{t.style.animation="none",t.style.strokeDashoffset="4000",t.style.fillOpacity="0",t.offsetWidth,t.style.animation="logoDraw 5s cubic-bezier(.75,.03,.46,.46) forwards"})),e.forEach(((t,e)=>{t.style.animation="none",t.style.transform="scale(5)",t.style.opacity="0",t.style.strokeWidth="0.5px",t.offsetWidth,setTimeout((()=>{t.style.animation="implodingWave 3.5s cubic-bezier(0.19, 1, 0.22, 1) forwards"}),100*e)}))},setTimeout((()=>window.restartPlexus()),150),setTimeout((()=>window.restartLogoAnimations()),1),document.addEventListener("alpine:init",(()=>{Alpine.data("plexusBackground",(()=>({canvas:null,ctx:null,particles:[],startTime:null,config:{particleCount:0,lineDistance:0,particleSize:1.59,baseSpeed:.4,lineOpacity:.2},mouse:{x:-9999,y:-9999},init(){this.canvas=this.$refs.canvas,this.ctx=this.canvas.getContext("2d"),this.startTime=Date.now();const t=window.innerWidth<768;this.config.particleCount=t?28:96,this.config.lineDistance=t?299:221,this.handleResize(),window.addEventListener("resize",(()=>this.handleResize())),window.addEventListener("mousemove",(t=>{this.mouse.x=t.clientX,this.mouse.y=t.clientY})),this.animate()},handleResize(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight;const t=window.innerWidth<768;this.config.particleCount=t?40:96,this.config.lineDistance=t?200:221},createParticle(){return{x:Math.random()*this.canvas.width,y:Math.random()*this.canvas.height,vx:(Math.random()-.5)*this.config.baseSpeed,vy:(Math.random()-.5)*this.config.baseSpeed}},animate(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);const t=Math.min((Date.now()-this.startTime)/3e3,1),e=Math.floor(t*this.config.particleCount);for(;this.particles.length<e;)this.particles.push(this.createParticle());const n=this.darkMode?"255, 255, 255":"0, 0, 0";this.ctx.fillStyle=`rgba(${n}, 0.4)`,this.ctx.strokeStyle=`rgba(${n}, ${this.config.lineOpacity})`,this.particles.forEach(((t,e)=>{const n=t.x-this.mouse.x,i=t.y-this.mouse.y,o=Math.sqrt(n*n+i*i)<250?1.96:1;t.x+=t.vx*o,t.y+=t.vy*o,(t.x<0||t.x>this.canvas.width)&&(t.vx*=-1),(t.y<0||t.y>this.canvas.height)&&(t.vy*=-1),this.ctx.beginPath(),this.ctx.arc(t.x,t.y,this.config.particleSize,0,2*Math.PI),this.ctx.fill();for(let n=e+1;n<this.particles.length;n++){const e=this.particles[n],i=Math.hypot(t.x-e.x,t.y-e.y);i<this.config.lineDistance&&(this.ctx.lineWidth=1.5*(1-i/this.config.lineDistance),this.ctx.beginPath(),this.ctx.moveTo(t.x,t.y),this.ctx.lineTo(e.x,e.y),this.ctx.stroke())}})),requestAnimationFrame((()=>this.animate()))}})))}));
