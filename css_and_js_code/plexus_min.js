let targetRotateX=0,targetRotateY=0;let currentRotateX=0,currentRotateY=0;const logoSvg=document.getElementById('main-logo-svg');document.addEventListener('mousemove',t=>{targetRotateY=(t.clientX/window.innerWidth-.5)*40;targetRotateX=(t.clientY/window.innerHeight-.5)*-40});document.addEventListener('mouseout',t=>{if(!t.relatedTarget&&!t.toElement){targetRotateY=0;targetRotateX=0}});function smoothRotate(){if(logoSvg){currentRotateX+=(targetRotateX-currentRotateX)*.29;currentRotateY+=(targetRotateY-currentRotateY)*.29;logoSvg.style.transform=`translateX(-9.81%) rotateX(${currentRotateX}deg) rotateY(${currentRotateY}deg) translateZ(50px)`;const t=document.documentElement.classList.contains('dark')?'rgba(255,255,255,0.1)':'rgba(0,0,0,0.3)';logoSvg.style.filter=`drop-shadow(${currentRotateY*.5}px ${currentRotateX*.5}px 20px ${t})`}requestAnimationFrame(smoothRotate)}smoothRotate();let plexusRequestId;let mouseX=0,mouseY=0;let targetX=0,targetY=0;document.addEventListener('mousemove',t=>{mouseX=(t.clientX-window.innerWidth/2)/(window.innerWidth/2);mouseY=(t.clientY-window.innerHeight/2)/(window.innerHeight/2)});window.t=function(){if(plexusRequestId)cancelAnimationFrame(plexusRequestId);const t=document.getElementById('plexus-canvas');const e=document.getElementById('main-logo-svg');if(!t||!e)return;const u=t.getContext('2d');const d=1e3,l=1100;const o=document.documentElement.classList.contains('dark');const w=o?"255, 255, 255":"26, 26, 26";const s=window.innerWidth<768;const m=s?0:421;const g=s?0:150;const R=g*g;const f=new Float32Array(m);const p=new Float32Array(m);const v=new Float32Array(m);const M=new Float32Array(m);let x=0;const X=Date.now();function Y(t){f[t]=Math.random()*d;p[t]=Math.random()*l;v[t]=(Math.random()-.5)*.8;M[t]=(Math.random()-.5)*.8}function b(){const t=targetY*-19;const e=targetX*19;u.clearRect(0,0,d,l);const o=Math.min((Date.now()-X)/3e3,1);const s=Math.floor(o*m);while(x<s){Y(x);x++}u.fillStyle=`rgba(${w}, 0.8)`;for(let t=0;t<x;t++){f[t]+=v[t];p[t]+=M[t];if(f[t]<0||f[t]>d)v[t]*=-1;if(p[t]<0||p[t]>l)M[t]*=-1;u.fillRect(f[t]-1,p[t]-1,2,2)}u.lineWidth=.8;for(let e=0;e<x;e++){const n=f[e],i=p[e];for(let t=e+1;t<x;t++){const a=n-f[t],c=i-p[t];const r=a*a+c*c;if(r<R){const h=(1-Math.sqrt(r)/g)*.8;u.beginPath();u.strokeStyle=`rgba(${w}, ${h.toFixed(2)})`;u.moveTo(n,i);u.lineTo(f[t],p[t]);u.stroke()}}}plexusRequestId=requestAnimationFrame(b)}b()};document.addEventListener('DOMContentLoaded',()=>{window.t()});window.o=function(){const t=document.querySelector('#logo-shape-definition.animate-logo');const e=document.querySelectorAll('.wave-echo');if(!t)return;const o=t.querySelectorAll('path');o.forEach(t=>{t.style.animation='none';t.style.strokeDashoffset='4000';t.style.fillOpacity='0';void t.offsetWidth;t.style.animation='logoDraw 5s cubic-bezier(.75,.03,.46,.46) forwards'});e.forEach((t,e)=>{t.style.animation='none';t.style.transform='scale(5)';t.style.opacity='0';t.style.strokeWidth='0.5px';void t.offsetWidth;setTimeout(()=>{t.style.animation='implodingWave 3.5s cubic-bezier(0.19, 1, 0.22, 1) forwards'},e*100)})};setTimeout(()=>window.t(),150);setTimeout(()=>window.o(),1);document.addEventListener('alpine:init',()=>{Alpine.data('plexusBackground',()=>({canvas:null,i:null,h:[],startTime:null,u:{l:0,m:0,g:1.59,R:.4,p:.2},v:{x:-9999,y:-9999},init(){this.canvas=this.$refs.canvas;this.i=this.canvas.getContext('2d');this.startTime=Date.now();const t=window.innerWidth<768;this.u.l=t?28:96;this.u.m=t?299:221;this.M();window.addEventListener('resize',()=>this.M());window.addEventListener('mousemove',t=>{this.v.x=t.clientX;this.v.y=t.clientY});this.animate()},M(){this.canvas.width=window.innerWidth;this.canvas.height=window.innerHeight;const t=window.innerWidth<768;this.u.l=t?40:96;this.u.m=t?200:221},X(){return{x:Math.random()*this.canvas.width,y:Math.random()*this.canvas.height,Y:(Math.random()-.5)*this.u.R,$:(Math.random()-.5)*this.u.R}},animate(){this.i.clearRect(0,0,this.canvas.width,this.canvas.height);const t=Math.min((Date.now()-this.startTime)/3e3,1);const e=Math.floor(t*this.u.l);while(this.h.length<e){this.h.push(this.X())}const o=this.darkMode?'255, 255, 255':'0, 0, 0';this.i.fillStyle=`rgba(${o}, 0.4)`;this.i.strokeStyle=`rgba(${o}, ${this.u.p})`;this.h.forEach((e,o)=>{const t=e.x-this.v.x;const s=e.y-this.v.y;const n=Math.sqrt(t*t+s*s);const i=n<250?1.96:1;e.x+=e.Y*i;e.y+=e.$*i;if(e.x<0||e.x>this.canvas.width)e.Y*=-1;if(e.y<0||e.y>this.canvas.height)e.$*=-1;this.i.beginPath();this.i.arc(e.x,e.y,this.u.g,0,Math.PI*2);this.i.fill();for(let t=o+1;t<this.h.length;t++){const a=this.h[t];const c=Math.hypot(e.x-a.x,e.y-a.y);if(c<this.u.m){this.i.lineWidth=(1-c/this.u.m)*1.5;this.i.beginPath();this.i.moveTo(e.x,e.y);this.i.lineTo(a.x,a.y);this.i.stroke()}}});requestAnimationFrame(()=>this.animate())}}))});
